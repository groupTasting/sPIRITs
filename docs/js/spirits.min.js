function getFingerprint() {
  var navigator_info = window.navigator;
  var screen_info = window.screen;
  var uid = navigator_info.mimeTypes.length;
  uid += navigator_info.userAgent.replace(/\D+/g, '');
  uid += navigator_info.plugins.length;
  uid += screen_info.height || '';
  uid += screen_info.width || '';
  uid += screen_info.pixelDepth || '';
  return uid;
}

function findGetParameter(parameterName) {
    var result = null,
        tmp = [];
    var items = location.search.substr(1).split("&");
    for (var index = 0; index < items.length; index++) {
        tmp = items[index].split("=");
        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
    }
    return result;
}

var vueGin = new Vue({
  el: '#gin',
  data: {
        ginId: '1',
        uid: '0',
  },
  methods: { 
  },
  computed: {
     koboUrl: function () { return "https://ee.kobotoolbox.org/::XuSX8oba/?&d[probe]="+this.ginId+"&d[uid]="+this.uid },
  },
  mounted () {
	var tmpGinId = '1'; 
        var id = findGetParameter("i"); 
        if(id) {
	  tmpGinId = id;  
	}
        this.ginId = tmpGinId;	
        this.uid = getFingerprint();	
	//this.load(this.year2);
  }
}) 
